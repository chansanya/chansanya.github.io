(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{388:function(t,a,s){"use strict";s.r(a);var e=s(2),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"查看nginx-版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看nginx-版本"}},[t._v("#")]),t._v(" 查看Nginx 版本")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v("\n")])])]),a("h2",{attrs:{id:"下载对应版本nginx源码包-解压"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载对应版本nginx源码包-解压"}},[t._v("#")]),t._v(" 下载对应版本Nginx源码包 解压")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" http://nginx.org/download/nginx-1.20.1.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-xvzf")]),t._v(" nginx-1.20.1.tar.gz\n")])])]),a("h2",{attrs:{id:"下载对应版本nginx-ngx-http-substitutions-filter-module-模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载对应版本nginx-ngx-http-substitutions-filter-module-模块"}},[t._v("#")]),t._v(" 下载对应版本Nginx  ngx_http_substitutions_filter_module 模块")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone git://github.com/yaoweibin/ngx_http_substitutions_filter_module.git\n")])])]),a("h2",{attrs:{id:"添加模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加模块"}},[t._v("#")]),t._v(" 添加模块")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("./configure  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--prefix")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/share/nginx --sbin-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/sbin/nginx --modules-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/lib64/nginx/modules --conf-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/etc/nginx/nginx.conf --error-log-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/var/log/nginx/error.log --http-log-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/var/log/nginx/access.log --http-client-body-temp-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/var/lib/nginx/tmp/client_body --http-proxy-temp-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/var/lib/nginx/tmp/proxy --http-fastcgi-temp-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/var/lib/nginx/tmp/fastcgi --http-uwsgi-temp-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/var/lib/nginx/tmp/uwsgi --http-scgi-temp-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/var/lib/nginx/tmp/scgi --pid-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/run/nginx.pid --lock-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/run/lock/subsys/nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--user")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--group")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("nginx --with-compat --with-debug --with-file-aio --with-google_perftools_module --with-http_addition_module --with-http_auth_request_module --with-http_dav_module --with-http_degradation_module --with-http_flv_module --with-http_gunzip_module --with-http_gzip_static_module --with-http_image_filter_module"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dynamic --with-http_mp4_module --with-http_perl_module"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dynamic --with-http_random_index_module --with-http_realip_module --with-http_secure_link_module --with-http_slice_module --with-http_ssl_module --with-http_stub_status_module --with-http_sub_module --with-http_v2_module --with-http_xslt_module"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dynamic --with-mail"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dynamic --with-mail_ssl_module --with-pcre --with-pcre-jit --with-stream"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dynamic --with-stream_ssl_module --with-stream_ssl_preread_module --with-threads --with-cc-opt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -m64 -mtune=generic'")]),t._v(" --with-ld-opt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-Wl,-z,relro -specs=/usr/lib/rpm/redhat/redhat-hardened-ld -Wl,-E'")]),t._v(" --add-module"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/ngx_http_substitutions_filter_module-master\n")])])]),a("h2",{attrs:{id:"测试启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试启动"}},[t._v("#")]),t._v(" 测试启动")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("./objs/nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-t")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" nginx stop\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" nginx status\n")])])]),a("h2",{attrs:{id:"替换-启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#替换-启动"}},[t._v("#")]),t._v(" 替换 启动")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" ./objs/nginx /usr/sbin/nginx\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" nginx start\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" origin git@112.91.140.52:java/yf-base.git\n")])])]),a("h4",{attrs:{id:"一些错误"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一些错误"}},[t._v("#")]),t._v(" 一些错误")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("\n./configure: error: the HTTP rewrite module requires the PCRE library.\nyum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" pcre-devel\n\n./configure: error: SSL modules require the OpenSSL library.\nyum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" openssl openssl-devel\n\n\n./configure: error: the HTTP XSLT module requires the libxml2/libxslt\nyum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" libxml2 libxml2-dev libxslt-devel\n\n./configure: error: the HTTP image filter module requires the GD library.\nyum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" gd-devel\n\n./configure: error: perl module ExtUtils::Embed is required\nyum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" perl-devel perl-ExtUtils-Embed\n\n./configure: error: the Google perftools module requires the Google perftools library. You can either "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" not "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v(" the module or "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" the library\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" gperftools "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v("\n\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);