(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{445:function(t,s,a){"use strict";a.r(s);var r=a(14),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"ğŸ§±-å¸¸ç”¨æŒ‡ä»¤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§±-å¸¸ç”¨æŒ‡ä»¤"}},[t._v("#")]),t._v(" ğŸ§± å¸¸ç”¨æŒ‡ä»¤")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("æŒ‡ä»¤")]),t._v(" "),s("th",[t._v("è¯´æ˜")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("FROM")])]),t._v(" "),s("td",[t._v("æŒ‡å®šåŸºç¡€é•œåƒ")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("RUN")])]),t._v(" "),s("td",[t._v("æ‰§è¡Œå‘½ä»¤ï¼Œä¾‹å¦‚å®‰è£…è½¯ä»¶åŒ…")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("COPY")])]),t._v(" "),s("td",[t._v("å¤åˆ¶æ–‡ä»¶åˆ°å®¹å™¨ä¸­")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("ADD")])]),t._v(" "),s("td",[t._v("ç±»ä¼¼ COPYï¼Œè¿˜æ”¯æŒ URL å’Œå‹ç¼©åŒ…è‡ªåŠ¨è§£å‹")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("WORKDIR")])]),t._v(" "),s("td",[t._v("è®¾ç½®å·¥ä½œç›®å½•")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("CMD")])]),t._v(" "),s("td",[t._v("æŒ‡å®šå®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œçš„å‘½ä»¤ï¼ˆåªèƒ½æœ‰ä¸€ä¸ªï¼‰")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("ENTRYPOINT")])]),t._v(" "),s("td",[t._v("è®¾ç½®ä¸»å¯åŠ¨å‘½ä»¤ï¼ˆå¯æ­é… CMDï¼‰")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("ENV")])]),t._v(" "),s("td",[t._v("è®¾ç½®ç¯å¢ƒå˜é‡")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("EXPOSE")])]),t._v(" "),s("td",[t._v("æŒ‡å®šå®¹å™¨ç›‘å¬ç«¯å£")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("ARG")])]),t._v(" "),s("td",[t._v("æ„å»ºå‚æ•°ï¼ˆä¸ ENV ç±»ä¼¼ï¼Œä½†åªåœ¨æ„å»ºé˜¶æ®µæœ‰æ•ˆï¼‰")])])])]),t._v(" "),s("h2",{attrs:{id:"åŸºç¡€é•œåƒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŸºç¡€é•œåƒ"}},[t._v("#")]),t._v(" åŸºç¡€é•œåƒ")]),t._v(" "),s("h3",{attrs:{id:"scratch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scratch"}},[t._v("#")]),t._v(" scratch")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("Docker ä¸­æœ€å°çš„ç©ºç™½åŸºç¡€é•œåƒ")])]),t._v(" "),s("li",[s("p",[t._v("é€‚åˆæ„å»ºæç®€é™æ€ç¼–è¯‘ç¨‹åºé•œåƒï¼ˆå¦‚ Go åº”ç”¨ï¼‰")])])]),t._v(" "),s("h3",{attrs:{id:"bosybox"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bosybox"}},[t._v("#")]),t._v(" bosybox")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("é›†æˆå¸¸ç”¨ Linux å·¥å…·çš„ç²¾ç®€å·¥å…·ç®±")])]),t._v(" "),s("li",[s("p",[t._v("é•œåƒå°å·§ï¼ˆä»…å‡  MBï¼‰ï¼Œä¾¿äºå¿«é€ŸéªŒè¯")])])]),t._v(" "),s("h3",{attrs:{id:"alpine"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#alpine"}},[t._v("#")]),t._v(" Alpine")]),t._v(" "),s("ul",[s("li",[t._v("è½»é‡çº§ã€å®‰å…¨æ€§é«˜çš„ Linux å‘è¡Œç‰ˆ")]),t._v(" "),s("li",[t._v("åŠŸèƒ½å®Œå–„ï¼Œå†…ç½®åŒ…ç®¡ç†å™¨ apkï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒS")])]),t._v(" "),s("h2",{attrs:{id:"ç¤ºä¾‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç¤ºä¾‹"}},[t._v("#")]),t._v(" ç¤ºä¾‹")]),t._v(" "),s("h3",{attrs:{id:"ğŸ§ª-spring-boot-åº”ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§ª-spring-boot-åº”ç”¨"}},[t._v("#")]),t._v(" ğŸ§ª Spring Boot åº”ç”¨")]),t._v(" "),s("div",{staticClass:"language-dockerfile extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[s("code",[s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" adoptopenjdk/openjdk8:alpine-jre")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENV")]),t._v(" TZ=Asia/Shanghai")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ARG")]),t._v(" JAR_FILE=target/*.jar")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COPY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JAR_FILE}")]),t._v(" app.jar")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXPOSE")]),t._v(" 8080")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENTRYPOINT")]),t._v(" ["),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"java"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-jar"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/app.jar"')]),t._v("]")]),t._v("\n")])])]),s("h3",{attrs:{id:"ğŸ§±-python-åº”ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§±-python-åº”ç”¨"}},[t._v("#")]),t._v(" ğŸ§± Python åº”ç”¨")]),t._v(" "),s("div",{staticClass:"language-Dockerfile extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[s("code",[s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" python:3.10-slim")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WORKDIR")]),t._v(" /app")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COPY")]),t._v(" requirements.txt ./")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RUN")]),t._v(" pip install --no-cache-dir -r requirements.txt")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COPY")]),t._v(" . .")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CMD")]),t._v(" ["),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"python"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"main.py"')]),t._v("]")]),t._v("\n")])])]),s("h3",{attrs:{id:"ğŸ³-vue-åº”ç”¨-å¤šé˜¶æ®µæ„å»º-multi-stage-build"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ³-vue-åº”ç”¨-å¤šé˜¶æ®µæ„å»º-multi-stage-build"}},[t._v("#")]),t._v(" ğŸ³ Vue åº”ç”¨ å¤šé˜¶æ®µæ„å»ºï¼ˆMulti-stage Buildï¼‰")]),t._v(" "),s("p",[t._v("ç”¨äºæ„å»ºæ›´å°ã€æ›´å®‰å…¨çš„é•œåƒã€‚")]),t._v(" "),s("div",{staticClass:"language-Dockerfile extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ„å»ºé˜¶æ®µ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" node:18-alpine "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" builder")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WORKDIR")]),t._v(" /app")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COPY")]),t._v(" . .")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RUN")]),t._v(" npm install && npm run build")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¿è¡Œé˜¶æ®µ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" nginx:stable-alpine")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COPY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token options"}},[s("span",{pre:!0,attrs:{class:"token property"}},[t._v("--from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("builder")])]),t._v(" /app/dist /usr/share/nginx/html")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COPY")]),t._v(" nginx/nginx.conf /etc/nginx/nginx.conf")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXPOSE")]),t._v(" 80")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CMD")]),t._v(" ["),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nginx"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-g"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"daemon off;"')]),t._v("]")]),t._v("\n")])])]),s("p",[t._v("âœ…  ä¼˜åŠ¿ï¼šæ„å»ºä¾èµ–ä¸ä¼šè¿›å…¥æœ€ç»ˆé•œåƒï¼Œæå‡å®‰å…¨æ€§ä¸ä½“ç§¯ä¼˜åŒ–ã€‚")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"âš¡-ç¼“å­˜ä¼˜åŒ–æŠ€å·§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#âš¡-ç¼“å­˜ä¼˜åŒ–æŠ€å·§"}},[t._v("#")]),t._v(" âš¡ ç¼“å­˜ä¼˜åŒ–æŠ€å·§")]),t._v(" "),s("p",[t._v("é•œåƒæ„å»ºæ˜¯æŒ‰å±‚è¿›è¡Œçš„ï¼Œåˆç†æ‹†åˆ†æŒ‡ä»¤é¡ºåºå¯ä»¥æ›´å¥½åˆ©ç”¨ç¼“å­˜ã€‚")]),t._v(" "),s("div",{staticClass:"language-Dockerfile extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[s("code",[s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COPY")]),t._v(" requirements.txt ./")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RUN")]),t._v(" pip install -r requirements.txt")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COPY")]),t._v(" . .")]),t._v("\n")])])]),s("p",[t._v("ğŸ“Œ å»ºè®®ï¼šå°†å˜åŠ¨å°çš„æ–‡ä»¶ä¼˜å…ˆ COPYï¼Œé¿å…å› é¢‘ç¹å˜åŠ¨å¯¼è‡´ç¼“å­˜å¤±æ•ˆã€‚")]),t._v(" "),s("h3",{attrs:{id:"ğŸ› ï¸-æ„å»ºä¸è¿è¡Œ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ› ï¸-æ„å»ºä¸è¿è¡Œ"}},[t._v("#")]),t._v(" ğŸ› ï¸ æ„å»ºä¸è¿è¡Œ")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ„å»ºé•œåƒ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" build "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-t")]),t._v(" my-app "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¿è¡Œå®¹å™¨")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),t._v(":3000 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--name")]),t._v(" my-container my-app\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¿›å…¥å®¹å™¨")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-it")]),t._v(" my-container "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v("\n")])])]),s("h2",{attrs:{id:"ğŸ“-dockerignore"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“-dockerignore"}},[t._v("#")]),t._v(" ğŸ“ .dockerignore")]),t._v(" "),s("p",[t._v("ç±»ä¼¼ "),s("code",[t._v(".gitignore")]),t._v("ï¼Œå¯ä»¥é˜²æ­¢æŸäº›æ–‡ä»¶è¢«åŠ å…¥æ„å»ºä¸Šä¸‹æ–‡ã€‚")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("node_modules\n*.log\nDockerfile\n.dockerignore\n.git\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);